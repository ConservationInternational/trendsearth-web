<!-- All SDG 15.3.1 sub-indicators in one step-->
{% load static %}
<nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
        <button class="nav-link active" id="nav-new-tab" data-bs-toggle="tab" data-bs-target="#nav-new" type="button"
            role="tab" aria-controls="nav-new" aria-selected="true">
            <i class="fa fa-plus-circle"></i>
            New Job
        </button>
        <button class="nav-link" id="nav-perm-tab" data-bs-toggle="tab" data-bs-target="#nav-perm" type="button"
            role="tab" aria-controls="nav-perm" aria-selected="false">
            <i class="fa fa-list"></i>
            View Jobs</button>
        <button class="nav-link" id="nav-info-tab" data-bs-toggle="tab" data-bs-target="#nav-info" type="button"
            role="tab" aria-controls="nav-info" aria-selected="false">
            <i class="fa fa-info-circle"></i>
            About</button>
    </div>
</nav>
<div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade border show active" id="nav-new" role="tabpanel" aria-labelledby="nav-new-tab"
        style="padding: 10px;">
        <div class="row">
            <form method="post" id="login-form">
                {% csrf_token %}
                <div class="border">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Baseline period</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="year_initial_baseline" class="form-label">Initial Year</label>
                            <select class="form-select form-select-sm" name="year_initial_baseline"
                                id="year_initial_baseline">
                                {% for tr in 2001|range:2022 %}
                                <option value="{{tr}}">{{tr}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="year_final_baseline" class="form-label">Final Year</label>
                            <select class="form-select form-select-sm" name="year_final_baseline"
                                id="year_final_baseline">
                                {% for tr in 2001|range:2022 %}
                                <option value="{{tr}}">{{tr}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="checkBox_progress_period">
                                <label class="form-check-label" for="checkBox_progress_period">
                                    Include progress preiod (for comparison to baseline)
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row" id="progress_years_panel" style="display: none;">
                        <div class="col-md-6 mb-3">
                            <label for="year_initial_progress" class="form-label">Initial Year</label>
                            <select class="form-select form-select-sm" name="year_initial_progress"
                                id="year_initial_progress">
                                {% for tr in 2001|range:2022 %}
                                <option value="{{tr}}">{{tr}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="year_final_progress" class="form-label">Final Year</label>
                            <select class="form-select form-select-sm" id="year_final_progress"
                                name="year_final_progress">
                                {% for tr in 2001|range:2022 %}
                                <option value="{{tr}}">{{tr}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <h3>Land productivity dataset</h3>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="radio_lpd_jrc">
                                <label class="form-check-label" for="radio_lpd_jrc">
                                    Trends.Earth land productivity
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="radio_te_prod"
                                    checked>
                                <label class="form-check-label" for="radio_te_prod">
                                    UNCCD default data (Land Productivity Dynamics (LPD) Product 1999-2013 from Join
                                    Research
                                    Commission)
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="border">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Current region</h3>
                            <label>{{user.aoi.region}} rfref</label>
                            <button type="button" class="btn btn-outline-success">
                                <i class="fa fa-edit"></i> Change Region</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Execution Name</h3>
                            <input type="text" class="form-control" name="execution_name" id="execution_name"
                                placeholder="Execution Name" autofocus="" autocapitalize="none">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Notes</h3>
                            <textarea class="form-control" id="task_notes" name="task_notes" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <div class="row border">
                    <div class="col-md-12">
                        <div class="accordion" id="accordionAdvanced">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingAdvanced">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#collapseAdvanced" aria-expanded="true"
                                        aria-controls="collapseAdvanced">
                                        Advanced configuration
                                    </button>
                                </h2>
                                <div id="collapseAdvanced" class="accordion-collapse collapse hide"
                                    aria-labelledby="headingAdvanced" data-bs-parent="#accordionAdvanced">
                                    <div class="accordion-body">
                                        <label>Land Cover Set Up</label>
                                        <button type="button" class="btn btn-outline-success">
                                            <i class="fa fa-edit"></i> Edit aggregation method definition</button>
                                        <br /><br />
                                        <p>Define Effects of Land Cover Change</p>
                                        <div class="row">
                                            <div class="col-md-8">

                                                <table class="matrix-table" id="matrix_table">
                                                    {{table | safe}}
                                                </table>

                                                <button type="button" class="btn btn-outline-primary">Reset
                                                    matrix</button>
                                                <button type="button" class="btn btn-outline-danger">Load matrix from
                                                    file</button>
                                                <button type="button" class="btn btn-outline-secondary">Save matrix to
                                                    file</button>
                                            </div>
                                            <div class="col-md-4">
                                                <label>Legend</label>
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <div
                                                                style="max-width: 30; height: 20px; background-color: #AB2727; border: 1px solid gray;">
                                                            </div>
                                                        </td>
                                                        <td>Degradation</td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div
                                                                style="max-width: 30; height: 20px; background-color: #45A146; border: 1px solid gray;">
                                                            </div>
                                                        </td>
                                                        <td>Improvement</td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div
                                                                style="max-width: 30; height: 20px; background-color: #FFFFE0; border: 1px solid gray;">
                                                            </div>
                                                        </td>
                                                        <td>Stable</td>
                                                    </tr>
                                                </table>
                                                <p>* The <em>Grassland</em> class consists of grassland, shrub, and
                                                    sparsely
                                                    vegetated areas (if the default aggregation is used).</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <br />

                <div class="row">
                    <div class="col-md-11 mb-3">
                        <button type="submit" class="btn btn-danger">SCHEDULE EXECUTION</button>
                    </div>
                </div>
            </form>

        </div>
    </div>
    <div class="tab-pane fade border" id="nav-perm" role="tabpanel" aria-labelledby="nav-perm-tab"
        style="padding-top: 10px;">
        <div class="row">
            <div class="col-md-12" style="padding: 10px 0px;">
                <table id="task_tbl" class="table table-striped hover" style="width:100%">
                    <thead>
                        <tr>
                            <th>Task</th>
                            <th>ID</th>
                            <th>Status</th>
                            <th>Started</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="tab-pane fade border" id="nav-info" role="tabpanel" aria-labelledby="nav-info-tab"
        style="padding: 10px;">
        <div class="row">
            <div class="col-md-11">
                <div class="section" id="sdg-indicator-15-3-1">
                    <span id="indicator-15-3-1"></span>
                    <h1>SDG Indicator 15.3.1</h1>
                    <label>Calculate all SDG 15.3.1 sub-indicators in a single step</label>
                    <p>
                        This algorithm enables the simultaneous calculation of the three SDG 15.3.1
                        sub-indicators (Productivity,
                        Land
                        Cover
                        and Soil Organic Carbon) in a single step. This is done using the remote
                        Trends.Earth datasets described in
                        each
                        of
                        the individual sub-indicator's sections.
                    </p>

                    <p>As part of the “2030 Agenda for Sustainable Development”, Sustainable
                        Development Goal (SDG) 15 is to:</p>
                    <blockquote>
                        <div>
                            <p>"Protect, restore and promote sustainable use of terrestrial ecosystems,
                                sustainably manage forests, combat desertification, and halt and reverse
                                land degradation and halt biodiversity loss"</p>
                        </div>
                    </blockquote>
                    <p>Each SDG has specific targets addressing different components, in this case, of
                        life on land. Target 15.3 aims to:</p>
                    <blockquote>
                        <div>
                            <p>"By 2030, combat desertification, restore degraded land and soil, including
                                land affected by desertification, drought and floods, and strive to achieve
                                a land degradation-neutral world"</p>
                        </div>
                    </blockquote>
                    <p>Indicators will be used then to assess the progress of each SDG target. In the
                        case of SDG 15.3 the progress towards a land degradation neutral world will be
                        assessed using indicator 15.3.1:</p>
                    <blockquote>
                        <div>
                            <blockquote>"proportion of land that is degraded over total land area"</blockquote>
                        </div>
                    </blockquote>
                    <p>As the custodian agency for SDG 15.3, the United Nations Convention to Combat
                        Desertification (UNCCD) has developed a <a class="reference external"
                            href="http://www2.unccd.int/sites/default/files/relevant-links/2017-10/Good%20Practice%20Guidance_SDG%20Indicator%2015.3.1_Version%201.0.pdf">Good
                            Practice Guidance (GPG)</a>.
                        providing recommendations on how to calculate SDG Indicator 15.3.1.</p>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
<script>
    $(document).ready(function () {
        $(".lc-input").on("keyup", function () {
            var inputVal = $(this).val();
            if (! /[-0+]/.test(inputVal)) {
                $(this).val("");
            } else {
                $(this).removeClass("stable");
                $(this).removeClass("degradation");
                $(this).removeClass("improvement");

                if (inputVal == "0") {
                    $(this).addClass("stable");
                } else if (inputVal == "-") {
                    $(this).addClass("degradation");
                } else {
                    $(this).addClass("improvement");
                }
            }
        });

        $("#checkBox_progress_period").on("change", function () {
            $("#progress_years_panel").toggle();
        });
    });
</script>